@using SyrianPoundRates.Models
@model IEnumerable<CurrencyRate>
@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h2>Syrian Pound Exchange Rate&copy;</h2>
    <p class="lead">Syrian Pound Exchange Rate is a free iOS and Andriod App that provides the latest exchange rates of U.S Dollar and Euro in Syrian Pound</p>
    <p class="lead">
        <a class="glyphicon glyphicon-download" aria-hidden="true" href="~/DroidFiles/syrianpound.apk"> Install V1.0 For Android</a>
    </p>
</div>

<h3>Current Rates</h3>
<br/>
<div>
    
    @Html.Raw(string.Format("<strong>Last Updated:</strong> {0}", (from d in Model select d.UpdatedAt).Max()))
</div>
<br/>
<div class="row row-buyingColor">
    <div class="col-xs-4 col-md-3">
    </div>
    <div class="col-xs-4 col-md-3">
        <strong>U.S Dollar</strong>
    </div>
    <div class="col-xs-4 col-md-3">
        <strong>Euro</strong>
    </div>
</div>

    @{
        var sellingRates = Model.Where(r => r.Type == TradeType.Selling).ToList();
        var buyingRates = Model.Where(r => r.Type == TradeType.Buying).ToList();
    }
    <div class="row">
        <div class="col-xs-4 col-md-3">
            <strong>Selling</strong>
        </div>
        <div class="col-xs-4 col-md-3">
            @Html.DisplayFor(model => sellingRates.First(r => r.CurrencyName == "Dollar").ExchangePrice)
        </div>
        <div class="col-xs-4 col-md-3">
            @Html.DisplayFor(model => sellingRates.First(r => r.CurrencyName == "Euro").ExchangePrice)
        </div>      
    </div>

    <div class="row">
        <div class="col-xs-4 col-md-3">
            <strong>Buying</strong>
        </div>
        <div class="col-xs-4 col-md-3">
            @Html.DisplayFor(model => buyingRates.First(r => r.CurrencyName == "Dollar").ExchangePrice)
        </div>
        <div class="col-xs-4 col-md-3">
            @Html.DisplayFor(model => buyingRates.First(r => r.CurrencyName == "Euro").ExchangePrice)
        </div>
    </div>

